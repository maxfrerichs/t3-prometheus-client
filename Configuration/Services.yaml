services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: false

  MFR\Typo3Prometheus\Middleware\PrometheusMiddleware:
    arguments:
      $responseFactory: '@Psr\Http\Message\ResponseFactoryInterface'
      $streamFactory: '@Psr\Http\Message\StreamFactoryInterface'

  MFR\Typo3Prometheus\Service\MetricsService:
    arguments:
      $statusRegistry: '@TYPO3\CMS\Reports\Registry\StatusRegistry'